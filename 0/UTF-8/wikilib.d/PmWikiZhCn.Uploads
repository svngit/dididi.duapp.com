version=pmwiki-2.2.36 ordered=1 urlencoded=1
author=feer
charset=UTF-8
csum=fixs
ctime=1333072770
name=PmWikiZhCn.Uploads
rev=3
targets=PmWikiZhCn.Images,PmWiki.PmWiki,PmWiki.UploadsAdmin,PmWiki.WikiGroup,PmWiki.Images,PmWiki.PageDirectives,PmWiki.WikiAdministrator,PmWiki.Passwords,PmWiki.PasswordsAdmin,Cookbook.Attachtable,Cookbook.AttachLinks,PmWikiZhCn.UploadsAdmin,Site.PageActions,PmWiki.AvailableActions,Cookbook.UploadTypes,Cookbook.PreventHotlinking
text=(:title 上传:)%0a(:Summary:PmWiki上传管理相关内容:)%0a(:Audience: authors (intermediate) :)%0a[[PmWiki]] 允许作者上传存储类似于[[images|图片]]的附件。%0a以便作者在任何页面中使用。%0a%0a-> ''备注'': ''[[PmWiki]]的上传附件功能默认是被关闭的。管理员需要通过Uploads Admin来开启这个功能''%0a%0a-> ''备注2'': ''你可以对整个站点、一个组或单独的页面进行附件功能设置。更多细节详见[[PmWiki/Uploads Admin|上传管理]]。附件文件夹可以是某整站文件夹，也可以为每个组单独设置上传文件夹，甚至是为单独的页面设置文件夹。默认上传文件夹是以[[PmWiki/WikiGroup | Wiki组]]来归类的.''%0a%0a!! [@附件:@] 语法%0a添加一个附件链接可以用 "@@Attach:@@"加附件名的方式 (例如, "@@[=Attach:resume.pdf=]@@").。 When the page is displayed, the @@Attach:@@ markup becomes one of the following:%0a%0a* A link to the named attachment (if uploaded, ie already in the upload directory)%0a* A link to a form whereby the author can specify a file to be uploaded and used as the new attachment (if not yet uploaded, ie not in the upload directory)%0a* If the attachment is an [[image(s)]] file with an extension such as .gif, .jpeg, or .png, it is displayed as an [[image(s)]].%0a%0aThe behaviour of links can be modified to%0a* prevent an image attachment from displaying as an image, place it in double brackets (e.g., [@[[Attach:image.jpg]]@]).%0a* have a link to an attachment appear without the "[@Attach:@]" at the beginning of the link, use [@[[(Attach:)file.ext]]@].%0a%0a!! 其它页面或组的附件%0aTo link  to an uploaded attachment (image or file) from another group, you simply refer the group itself (make sure "Groupname" has the dot in it).%0a->[@Attach:Groupname./file_name.ext@] (note the dot after the groupname)%0aIf PmWiki is configured with an individual directory per page use%0a->[@Attach:Pagename/file_name.ext@] (Pagename is in the same WikiGroup)%0a->[@Attach:Groupname.Pagename/file_name.ext@]%0a%0a!! 包含空格的附件名%0aTo link to a filename with spaces in it use the bracket link notation, eg%0a->[@[[Attach:a filename with spaces.txt]]@]%0aTo attach an [[PmWiki/image(s)]] file with spaces in the name so that is shows as an image use one of these {+workarounds+}%0a->[@[[#blank | Attach:image space.jpeg]]@]%0a->[@[[#1 | Attach:image space.jpeg]]@]%0a%0a!! 在一个页面列出所有附件%0aTo list files that have been uploaded, use the markup:%0a[[PmWiki/PageDirectives#attachlist | [@(:attachlist:)@] ]]%0a%0aThis will list attachments to the current group or page, depending whether attachments are organised per group or per page; each instance includes a link to the attachment for viewing or downloading.  A list of attachments is also shown as part of the uploads page form.%0a%0a!!!上传页面%0a可以在页面地址后，直接增加"?action=upload"来打开一个上传页面。你可以通过这个页面上传并重命名这个附件。注意：这需要[[PmWiki/Wiki Administrator|管理员]]开启附件上传功能。 %0a* 要开启上传功能，请在@@local/config.php@@增加 @@$EnableUploadVersions=1;@@这行。%0a%0a%0a!!!设置附件类型和上传尺寸%0a为了安全起见，上传功能默认是关闭的。%0aWhen enabled uploads are restricted as to the types and sizes of files that may be uploaded to the server (see [[PmWiki/UploadsAdmin]]).  PmWiki's default configuration limits file sizes to 50 kilobytes and file extensions to common types such as ".gif", ".jpeg", ".doc", ".txt", and ".pdf".  %0a%0aIn addition, the administrator can configure the system to require an @@upload@@ password--see [[PmWiki/Passwords]] and [[PmWiki/PasswordsAdmin]].%0a%0a默认允许上传一下扩展名的文件：%0a%0a[[#imagetypes]]   %0a->[@'gif','jpg','jpeg','png','bmp','ico','wbmp',          # 图片%0a@]%0a[[#imagetypesend]]%0a->[@'mp3', 'au','wav',                                    # 音频%0a'mpg','mpeg','wmf','mov','qt','avi',                  # 视频%0a'zip', 'gz','tgz','tar','rpm','hqx','7z'              # 压缩包%0a'odt','ods','odp',                                    # OpenOffice.org%0a'doc','ppt','xls','exe','mdb',                        # MSOffice%0a'pdf','psd', 'ps','ai','eps',                         # Adobe%0a'htm','html','fla','swf',                             # web stuff%0a'txt','rtf','exe','tex','dvi',''                      # misc@]%0a%0a!!!移除%0a任何上传的文件都可以通过管理员来移动、删除处理。%0a%0a管理员可以通过ftp方式或通过这个 Cookbook:Attachtable 功能来管理附件。%0a%0a>>faq%3c%3c [[#faq]]%0a%0aQ: 我如何让上传的文件只显示文件名，例如："file.doc"?%0aA: 像这样[@[[(Attach:)file.doc]]@]使用一个括号就可以了。[[Cookbook:AttachLinks|附件链接]]中有更多方法。%0a%0aQ: 如何更改上传附件大小限制？%0aA: PmWiki默认的图片大小限制在50kB以下。 请添加如下代码：%0a->@@$UploadMaxSize = 1000000; # limit upload file size to 1 megabyte@@%0a->to your ''config.php'' to increase limit to 1MB (for example). See [[UploadsAdmin]] for how to further customize limits.  Note that both PHP and webservers also place their own limits on the size of uploaded files.%0a%0aQ: 为什么上传出现"Incomplete file received"这样的错误提示？%0aA: You may be running out of space in a 'scratch' area, used either by PmWiki or by PHP.  On *nix, check that you have sufficient free space in /tmp and /var/tmp.%0a%0aQ: How do I make it so that the upload link still allows one to make another upload (if someone wants to replace the old version of a file with a newer version, for example). Currently you only get the upload link when there is no file in the upload directory.%0aA: Use the Attach [[Site/page action(s)]], and click on the delta symbol %25blue%25(&Delta;)%25%25 shown against each of files listed. If you can't see the attach action either uploads are not enabled, you are not authorized to upload, or the attach action has been commented out or is missing. See also [[PmWiki/available actions]].%0a%0aQ: 如何把所以附件中"[=Attach:=]" 字段删除？%0aA: 详见： Cookbook:AttachLinks 。%0a%0aQ: 如何避免上传的文件名出现乱码问题？ (例如 "Za&#380;ó&#322;&#263; ge&#347;l&#261; ja&#378;&#324;.doc")?%0aA: 详见：$UploadNameChars[@ = "-\w. !=+#";@]%25%25 # 允许感叹号、等号、加号和hash。%0a%0aQ: 我的文件有8个字符的扩展名'abc.pptx'?%0aA: 详见：[[Cookbook:Upload Types|上传类型]]。%0a%0aQ: 如何防止图片被盗链？%0aA: 详见：[[Cookbook:Prevent Hotlinking]] {Cookbook.PreventHotlinking$:Summary}
time=1333377367
title=上传
